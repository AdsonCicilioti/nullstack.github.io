{"instances": {"_.0":{},"_.0.0.1":{"expanded":false},"_.0.0.5":{"title":"Application Startup","html":"<p>The index.js file at your application root is responsible for starting your application.</p>\n<p>When you run the application with <em>npm start</em> or <em>node .production/server.js</em> the index will call the start function in your <em>src/Application.js</em>.</p>\n<p>The start function will run only once when your application is booted and is a good place for setting up your <a href=\"/context\">server context</a>.</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> database <span class=\"token keyword\">from</span> <span class=\"token string\">'./database'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Application</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">async</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    context<span class=\"token punctuation\">.</span>database <span class=\"token operator\">=</span> database<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Application<span class=\"token punctuation\">;</span>\n</code></pre>\n<h2 id=\"dependency-startup-pattern\"><a href=\"#dependency-startup-pattern\">Dependency startup pattern</a></h2><p>A nice pattern to work with dependencies that require startup time configurations is to define a start function in the dependency and call it in the Application start function passing the <a href=\"/context\">server context</a>.</p>\n<pre><code class=\"language-jsx\"><span class=\"token keyword\">import</span> Nullstack <span class=\"token keyword\">from</span> <span class=\"token string\">'nullstack'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Dependency <span class=\"token keyword\">from</span> <span class=\"token string\">'./Dependency'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Application</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Nullstack</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token keyword\">static</span> <span class=\"token keyword\">async</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">context</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Dependency<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Application<span class=\"token punctuation\">;</span>\n</code></pre>\n<h2 id=\"next-step\"><a href=\"#next-step\">Next step</a></h2><p>âš” Learn about the <a href=\"/context-data\">context data</a>.</p>\n","description":"The start function will run only once when your application is booted and is a good place for setting up your server context"},"_.0.0.7":{}}, "page": {"image":"/image-1200x630.png","status":200,"locale":"en","title":"Application Startup - Nullstack","description":"The start function will run only once when your application is booted and is a good place for setting up your server context"}}